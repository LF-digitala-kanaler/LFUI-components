{"version":3,"file":"select.stories-d29dee36.js","sources":["../../src/js/components/select.js","../../src/docs/Select/multiple.html?raw","../../src/docs/Select/single.html?raw","../../src/docs/Select/select.js"],"sourcesContent":["import Dropdown from 'bootstrap5/js/src/dropdown'\nimport { h, Ref } from '../utils'\n\nconst initialized = new WeakSet()\n\n/**\n * @typedef {object} SelectOptions\n * @property {string} [allLabel] Label for \"All\" option\n * @property {boolean} [groupToggle] Enable group toggling\n * @property {string | RegExp} [smallPattern] RegExp pattern for small text\n */\n\n/**\n * Decorate select element with custom dropdown\n * @param {Node} element Element to be decorated\n * @param {SelectOptions} opts Options\n */\nexport function select(el, opts = el.dataset) {\n  const config = getConfig(opts)\n  const select = el.querySelector('.select-options')\n  const label = el.querySelector('.select-label')\n  const id = Math.random().toString(36).substr(2, 9)\n\n  // Don't bother with disabled or missing elements\n  if (!label || !select || select.disabled || initialized.has(el)) {\n    return\n  }\n\n  let preventClose = false\n  const initiallySelected = [...select.selectedOptions]\n  let placeholder = select.querySelector('option[value=\"\"][disabled]')\n  const initiallyValid = initiallySelected.filter((child) => !isPlaceholder(child))\n\n  setValidState(select, initiallyValid.length)\n\n  // Set up internal lookup mechanisms\n  const buttons = new WeakMap()\n  const groups = new WeakMap()\n  const selectAll = new Ref()\n  const status = new Ref()\n\n  // The button which open the custom select list\n  const toggle = h(\n    'button',\n    {\n      type: 'button',\n      title: label.textContent,\n      class: 'select-toggle dropdown-toggle',\n      'data-bs-toggle': 'dropdown',\n      'aria-expanded': 'false',\n      'aria-controls': `list-${id}`\n    },\n    [\n      h(\n        'span',\n        {\n          'data-count': initiallyValid.length || '',\n          class: 'select-status',\n          role: 'status',\n          ref: status\n        },\n        initiallyValid.length\n          ? concatLabels(initiallyValid, config.smallPattern)\n          : placeholder\n          ? resolveLabel(placeholder.label, config.smallPattern)\n          : ''\n      )\n    ]\n  )\n\n  function renderItems() {\n    return [\n      // Toggle all button\n      select.multiple && config.allLabel\n        ? h(\n            'button',\n            {\n              ref: selectAll,\n              type: 'button',\n              class: 'select-option multiple dropdown-item',\n              onclick(event) {\n                const selected = !allAreSelected(select)\n                for (const option of select.options) {\n                  if (!option.disabled) option.selected = selected\n                }\n                select.dispatchEvent(new window.Event('change', { bubbles: true }))\n                event.preventDefault()\n              }\n            },\n            config.allLabel\n          )\n        : null,\n      // Proxies for the option/optgroup elements\n      ...[...select.children].map(function eachChild(child, index) {\n        if (child.nodeName === 'OPTGROUP') {\n          const label = resolveLabel(child.label, config.smallPattern)\n          let children = [...child.children].map(eachChild)\n          const wrapper = new Ref()\n          const button = new Ref()\n          let expanded = true\n\n          // Wrap children in a dropdown menu\n          if (config.groupToggle) {\n            const group = h(\n              'fieldset',\n              {\n                'data-bs-target': `#list-${id}`,\n                id: `group-${index}-list-${id}`,\n                class: 'select-list dropdown-menu',\n                'aria-labelledby': `group-${index}-trigger-${id}`\n              },\n              children\n            )\n\n            // Add to internal lookup table)\n            for (const option of child.children) {\n              groups.set(option, button)\n            }\n\n            // Wrap children\n            children = [group]\n          }\n\n          return h(\n            config.groupToggle ? 'div' : 'fieldset',\n            {\n              ref: wrapper,\n              class: `select-group ${config.groupToggle ? 'show' : ''}`\n            },\n            [\n              config.groupToggle\n                ? h(\n                    'button',\n                    {\n                      ref: button,\n                      type: 'button',\n                      id: `group-${index}-trigger-${id}`,\n                      class: `select-option ${\n                        select.multiple ? 'multiple' : ''\n                      } toggle dropdown-item`,\n                      'aria-expanded': 'true',\n                      'aria-controls': `group-${index}-list-${id}`,\n                      onclick() {\n                        expanded = !expanded\n                        this.setAttribute('aria-expanded', expanded ? 'true' : 'false')\n                        wrapper.current.classList.toggle('show', expanded)\n\n                        // Disable automatic closing on click\n                        preventClose = true\n\n                        // Ugly hack to prevent Bootstrap dropdown from including\n                        // hidden items in key navigation\n                        for (const option of child.children) {\n                          const button = buttons.get(option)\n                          button.current.classList.toggle('disabled', !expanded)\n                        }\n\n                        // Update dropdown position\n                        dropdown.update()\n                      }\n                    },\n                    label\n                  )\n                : h('legend', { class: 'select-legend' }, label),\n              ...children\n            ]\n          )\n        }\n\n        // Don't include the typical leading placeholder option\n        // E.g. <option value=\"\" disabled selected>Choose something</option>\n        if (isPlaceholder(child, index)) return null\n\n        const { label, disabled, selected } = child\n\n        // Add to internal element reverse lookup table\n        const button = new Ref()\n        buttons.set(child, button)\n\n        return h(\n          'button',\n          {\n            disabled,\n            ref: button,\n            type: 'button',\n            class: `select-option dropdown-item ${select.multiple ? 'multiple' : ''} ${\n              selected ? 'selected' : ''\n            }`,\n            onclick(event) {\n              child.selected = select.multiple ? !child.selected : true\n              select.dispatchEvent(new window.Event('change', { bubbles: true }))\n            }\n          },\n          resolveLabel(label, config.smallPattern, disabled ? '' : undefined)\n        )\n      })\n    ]\n  }\n\n  // The list of options\n  const list = h(\n    'div',\n    {\n      id: `list-${id}`,\n      'aria-labelledby': `label-${id}`,\n      class: 'select-list dropdown-menu',\n      onclick() {\n        // Disable automatic closing on click\n        preventClose = preventClose || select.multiple\n      }\n    },\n    renderItems()\n  )\n\n  // Prevent automatic close on click\n  el.addEventListener('hide.bs.dropdown', function (event) {\n    if (preventClose) {\n      preventClose = false\n      event.preventDefault()\n    }\n  })\n\n  // Update status and labels on change\n  select.addEventListener('change', function () {\n    selectAll.current?.classList.toggle('selected', allAreSelected(select))\n\n    const states = new Map()\n\n    // Update proxy buttons\n    for (const option of select.options) {\n      if (option.disabled) continue\n      const ref = buttons.get(option)\n      ref?.current.classList.toggle('selected', option.selected)\n\n      // Calculate group status\n      if (groups.has(option)) {\n        const button = groups.get(option)\n        let current = states.get(button)\n\n        if (option.selected) {\n          if (!current) current = 'selected'\n          else if (current === 'unselected') current = 'indeterminate'\n        } else if (current === 'selected') {\n          current = 'indeterminate'\n        } else if (!current) {\n          current = 'unselected'\n        }\n\n        states.set(button, current)\n      }\n    }\n\n    // Update group status\n    for (const [button, state] of states) {\n      button.current.classList.toggle('selected', state === 'selected')\n      button.current.classList.toggle('indeterminate', state === 'indeterminate')\n    }\n\n    const selected = [...select.selectedOptions].filter((option) => !isPlaceholder(option))\n    const { current: statusNode } = status\n\n    setValidState(select, selected.length)\n\n    // Update status counter\n    statusNode.dataset.count = selected.length || ''\n\n    // Update status label\n    const items = selected.length ? selected : placeholder ? [placeholder] : []\n    const [first, ...rest] = statusNode.childNodes\n    const next = items.length ? concatLabels(items, config.smallPattern) : ['']\n    for (const child of rest) child.remove()\n    first.replaceWith(...next)\n  })\n\n  // Update DOM\n  el.classList.add('initialized')\n  label.id = `label-${id}`\n  select.after(toggle, list)\n\n  const dropdown = new Dropdown(toggle)\n\n  // Cache element to prevent double initialization\n  initialized.add(el)\n\n  const callback = (mutationList, observer) => {\n    for (const mutation of mutationList) {\n      if (mutation.type === 'childList' || mutation.type === 'carachterData') {\n        const frag = document.createDocumentFragment()\n        frag.append(...renderItems().filter((item) => item))\n        list.innerHTML = ''\n        list.append(frag)\n        placeholder = placeholder = select.querySelector('option[value=\"\"][disabled]')\n        select.dispatchEvent(new window.Event('change'))\n      }\n    }\n  }\n\n  // Create an observer instance linked to the callback function\n  const observer = new window.MutationObserver(callback)\n\n  // Start observing the target node for configured mutations\n  observer.observe(select, {\n    attributes: false,\n    childList: true,\n    subtree: true,\n    characterData: true\n  })\n}\n\n/**\n * @param {SelectOptions} options\n * @returns {SelectOptions}\n */\nfunction getConfig(options) {\n  let { smallPattern, allLabel, groupToggle } = options\n\n  if (smallPattern && !(smallPattern instanceof RegExp)) {\n    smallPattern = new RegExp(smallPattern)\n  }\n\n  if (typeof groupToggle !== 'undefined') {\n    groupToggle = groupToggle !== false\n  }\n\n  return { smallPattern, allLabel, groupToggle }\n}\n\n/**\n * @param {Element} element\n * @param {boolean} valid\n * @returns\n */\nfunction setValidState(element, valid) {\n  const group = element.closest('.form-group')\n  if (group) {\n    group.classList.toggle('has-valid', valid)\n  }\n}\n\n/**\n * @param {Node} option\n * @returns {boolean}\n */\nfunction isPlaceholder(option) {\n  const { value, disabled, hidden } = option\n  return !value && disabled && hidden\n}\n\n/**\n * @param {Node} select\n * @returns {boolean}\n */\nfunction allAreSelected(select) {\n  return select.selectedOptions.length === select.options.length\n}\n\n/**\n * @param {Node[]} labels\n * @param {RegExp} regexp\n * @returns {(string | Node)[]}\n */\nfunction concatLabels(labels, regexp) {\n  return labels.reduce(function (acc, child) {\n    if (acc.length) acc.push(', ')\n    acc.push(...resolveLabel(child.label, regexp))\n    return acc\n  }, [])\n}\n\n/**\n * @param {string} label\n * @param {RegExp} regexp\n * @returns {(string | Node)[]}\n */\nfunction resolveLabel(label, regexp, className = 'text-muted') {\n  const match = label.match(regexp)\n  if (!match) return [label]\n  return [label.replace(regexp, ''), h('small', { class: className }, match[1] || match[0])]\n}\n","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Default</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple\\\">\\n          <option value=\\\"\\\" disabled hidden>Select Berries</option>\\n          <option value=\\\"1\\\">Raspberry</option>\\n          <option value=\\\"2\\\">Blueberry</option>\\n          <option value=\\\"3\\\">Blackberry</option>\\n          <option value=\\\"4\\\">Strawberry</option>\\n          <option value=\\\"5\\\">Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Select all</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\" data-all-label=\\\"Select all berries\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-all\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-all\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <option>Raspberry</option>\\n          <option>Blueberry</option>\\n          <option>Blackberry</option>\\n          <option>Strawberry</option>\\n          <option>Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Label inside</p>\\n    <label>&nbsp;</label>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select inside\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-inside\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-inside\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <option>Raspberry</option>\\n          <option>Blueberry</option>\\n          <option>Blackberry</option>\\n          <option>Strawberry</option>\\n          <option>Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Required</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-required\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-required\\\" required>\\n          <option>Raspberry</option>\\n          <option selected>Blueberry</option>\\n          <option>Blackberry</option>\\n          <option>Strawberry</option>\\n          <option selected>Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Disabled</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-disabled\\\">Berries</label>\\n        <select multiple disabled class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-disabled\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <option>Raspberry</option>\\n          <option>Blueberry</option>\\n          <option>Blackberry</option>\\n          <option>Strawberry</option>\\n          <option>Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Disabled options</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\" data-small-pattern=\\\"\\\\([\\\\s\\\\w]+\\\\)\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-disabled-options\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-disabled-options\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <option>Raspberry</option>\\n          <option disabled>Blueberry (out of stock)</option>\\n          <option>Blackberry</option>\\n          <option disabled selected>Strawberry (already purchased)</option>\\n          <option>Cranberry</option>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">With Option Groups</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-groups\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-groups\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <optgroup label=\\\"Red\\\">\\n            <option>Raspberry</option>\\n            <option>Strawberry</option>\\n            <option>Cranberry</option>\\n          </optgroup>\\n          <optgroup label=\\\"Blue\\\">\\n            <option>Blueberry</option>\\n          </optgroup>\\n          <optgroup label=\\\"Black\\\">\\n            <option>Blackberry</option>\\n          </optgroup>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"col-md-6\\\">\\n    <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">With Toggle Groups</p>\\n    <form class=\\\"form-group\\\">\\n      <div class=\\\"select\\\" data-group-toggle data-small-pattern=\\\"\\\\((\\\\d+)\\\\)$\\\">\\n        <label class=\\\"select-label\\\" for=\\\"select-multiple-toggles\\\">Berries</label>\\n        <select multiple class=\\\"select-options\\\" name=\\\"berries\\\" id=\\\"select-multiple-toggles\\\">\\n          <option value=\\\"\\\" disabled selected hidden>Select Berries</option>\\n          <optgroup label=\\\"Red (3)\\\">\\n            <option>Raspberry</option>\\n            <option>Strawberry</option>\\n            <option>Cranberry</option>\\n          </optgroup>\\n          <optgroup label=\\\"Blue (1)\\\">\\n            <option>Blueberry</option>\\n          </optgroup>\\n          <optgroup label=\\\"Black (1)\\\">\\n            <option>Blackberry</option>\\n          </optgroup>\\n        </select>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Default</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select City</option>\\n                    <option>Stockholm</option>\\n                    <option>Göteborg</option>\\n                    <option>Malmö</option>\\n                    <option>Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Long list</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-hidden-label\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-hidden-label\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select City</option>\\n                    <option>Gävle</option>\\n                    <option>Göteborg</option>\\n                    <option>Hagfors</option>\\n                    <option>Halmstad</option>\\n                    <option>Haparanda</option>\\n                    <option>Hedemora</option>\\n                    <option>Helsingborg</option>\\n                    <option>Hudiksvall</option>\\n                    <option>Huskvarna</option>\\n                    <option>Härnösand</option>\\n                    <option>Hässleholm</option>\\n                    <option>Hästholmen</option>\\n                    <option>Höganäs</option>\\n                    <option>Järle</option>\\n                    <option>Jönköping</option>\\n                    <option>Kalmar</option>\\n                    <option>Karl Johans stad</option>\\n                    <option>Karlshamn</option>\\n                    <option>Karlskoga</option>\\n                    <option>Karlskrona</option>\\n                    <option>Karlstad</option>\\n                    <option>Katrineholm</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Label inside</p>\\n        <label>&nbsp;</label>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select inside\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-label-inside\\\">\\n                    Select city\\n                </label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-label-inside\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select asdasd</option>\\n                    <option>Stockholm</option>\\n                    <option>Göteborg</option>\\n                    <option>Malmö</option>\\n                    <option>Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">With small text</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\" data-small-pattern=\\\"\\\\((.+?)\\\\)\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-secondary\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-secondary\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select City</option>\\n                    <option>Stockholm (Stockholm)</option>\\n                    <option>Göteborg (Västra Götaland)</option>\\n                    <option>Malmö (Skåne)</option>\\n                    <option>Umeå (Västerbottens)</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Required</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-required\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-required\\\" required>\\n                    <option>Stockholm</option>\\n                    <option selected>Göteborg</option>\\n                    <option>Malmö</option>\\n                    <option>Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Default value</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-default-value\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-default-value\\\" required>\\n                    <option disabled hidden value=\\\"\\\">Select city</option>\\n                    <option value=\\\"stockholm\\\">Stockholm</option>\\n                    <option value=\\\"göteborg\\\" selected>Göteborg</option>\\n                    <option value=\\\"malmö\\\">Malmö</option>\\n                    <option value=\\\"umeå\\\">Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">With Option Groups</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-groups\\\">Timezone</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-groups\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select Timezone</option>\\n                    <optgroup label=\\\"Alaskan/Hawaiian Time Zone\\\">\\n                        <option value=\\\"AK\\\">Alaska</option>\\n                        <option value=\\\"HI\\\">Hawaii</option>\\n                    </optgroup>\\n                    <optgroup label=\\\"Stockholm Time Zone\\\">\\n                        <option value=\\\"ST\\\">Stockholm</option>\\n                    </optgroup>\\n                    <optgroup label=\\\"China Time Zone\\\">\\n                        <option value=\\\"CT\\\">China</option>\\n                    </optgroup>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">With Toggle Groups</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\" data-group-toggle>\\n                <label class=\\\"select-label\\\" for=\\\"select-toggle-groups\\\">Timezone</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-toggle-groups\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select Timezone</option>\\n                    <optgroup label=\\\"Alaskan/Hawaiian Time Zone\\\">\\n                        <option value=\\\"AK\\\">Alaska</option>\\n                        <option value=\\\"HI\\\">Hawaii</option>\\n                    </optgroup>\\n                    <optgroup label=\\\"Stockholm Time Zone\\\">\\n                        <option value=\\\"ST\\\">Stockholm</option>\\n                    </optgroup>\\n                    <optgroup label=\\\"China Time Zone\\\">\\n                        <option value=\\\"CT\\\">China</option>\\n                    </optgroup>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Disabled</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-disabled\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-disabled\\\" disabled>\\n                    <option value=\\\"\\\" disabled selected hidden>Select City</option>\\n                    <option>Stockholm</option>\\n                    <option>Göteborg</option>\\n                    <option>Malmö</option>\\n                    <option>Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n        <p class=\\\"text-sm mt-15 mb-05 text-muted\\\">Disabled options</p>\\n        <form class=\\\"form-group\\\">\\n            <div class=\\\"select\\\">\\n                <label class=\\\"select-label\\\" for=\\\"select-disabled-options\\\">City</label>\\n                <select class=\\\"select-options\\\" name=\\\"timezone\\\" id=\\\"select-disabled-options\\\">\\n                    <option value=\\\"\\\" disabled selected hidden>Select City</option>\\n                    <option disabled>Stockholm</option>\\n                    <option>Göteborg</option>\\n                    <option disabled>Malmö</option>\\n                    <option>Umeå</option>\\n                </select>\\n            </div>\\n        </form>\\n    </div>\\n</div>\\n\"","import { select } from '../../js/components/select.js'\n\nexport function selectExample(context) {\n  if (!context) {\n    return\n  }\n\n  for (const el of context.querySelectorAll('.select')) {\n    select(el)\n  }\n}\n"],"names":["initialized","WeakSet","select","el","opts","dataset","config","getConfig","querySelector","label","id","Math","random","toString","substr","disabled","has","preventClose","initiallySelected","selectedOptions","placeholder","initiallyValid","filter","child","isPlaceholder","setValidState","length","buttons","WeakMap","groups","selectAll","Ref","status","toggle","h","type","title","textContent","class","role","ref","concatLabels","smallPattern","resolveLabel","renderItems","multiple","allLabel","onclick","event","selected","allAreSelected","option","options","dispatchEvent","window","Event","bubbles","preventDefault","children","map","eachChild","index","nodeName","wrapper","button","expanded","groupToggle","group","set","setAttribute","current","classList","get","dropdown","update","undefined","list","addEventListener","states","Map","state","statusNode","count","items","first","rest","childNodes","next","remove","replaceWith","add","after","Dropdown","callback","mutationList","observer","mutation","frag","document","createDocumentFragment","append","item","innerHTML","MutationObserver","observe","attributes","childList","subtree","characterData","RegExp","element","valid","closest","value","hidden","labels","regexp","reduce","acc","push","className","match","replace","Multiple","Single","selectExample","context","querySelectorAll"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECAAC,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECER,SAASC,EAAcC,EAAS,CACrC,GAAKA,EAIL,UAAW3H,KAAM2H,EAAQC,iBAAiB,SAAS,EACjD7H,GAAOC,CAAE,CAEb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}