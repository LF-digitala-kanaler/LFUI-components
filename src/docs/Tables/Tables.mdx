import { Meta, Canvas, Stories, Story, Subtitle, Controls } from '@storybook/blocks'
import * as TableStories from './tables.stories'
import { Badges } from '../../../.storybook/blocks/Badges';
import { Note } from '../../../.storybook/blocks/Note';

<Meta of={TableStories} />

# Tables <Badges of={TableStories} />

Tables come in many different forms and sizes. Which table you should use is often dependant to its content and background colour. The default table looks like the one directly below and is of a "compressed" variant, hence the "small" and .table-sm markup. This is due to tables in LF applications usually have a lot of content.

## Variations
If we don't count the endless modifiers you have at your disposal there is two different variations of tables, one that present data and one that compare data.

### Present data

<Canvas of={TableStories.PresentDefault} />

#### Modifiers
There is several modifiers available for tables. You can mix and match after what you need.

##### Sizing
There is one sizing modifier available and that is `.table-sm`. Simply add the `.table-sm` class to your table element.

<Canvas of={TableStories.PresentSizing} />

##### Summary row
Quite often you will be calculating the total sum of data in table cell's. In the example below you can see appropriate markup to use. Don't forget to add the `<tfoot>`-element since LFUI will add use this to add the right styling.

<Canvas of={TableStories.PresentSummaryRow} />

##### Banded rows
Works great on backgrounds where the normal white cells aren't clear enough. Simply add `.table-varied` to the `<table>`-element

<Canvas of={TableStories.PresentBandedRows} />

##### In-table grouping
If you wish to create a sub-header apply the .th-sub and colspan="3"(value should be equal to the total number of cells in a row). In the same respect, you can use .th-main to enforce its styling on a cell that isn't a really a th.

<Canvas of={TableStories.PresentInTableGrouping} />

To indent and group any number of rows under another row apply the `.table-sub-group` to each row you wish specified as sub grouped. It works with every type of table above. To achieve correct styling, also add `.last` to the last child as well as `.first` to the first child of the `.table-sub-group-row`!

<Note>
__NOTE__ Do not add `.first` & `.last`-classes to the `.table-varied-variant`, as it breaks its styling.
</Note>

<Canvas of={TableStories.PresentSubGrouping} />

##### Expandable rows
Sometimes a table row simply isn't enough for all that rich data. To have a table row expand and show additional data, there's the expandable row. The expandable table row builds upon Bootstrap collapse. To make a table row expandable, add the data-bs-toggle attribute and set it to collapse:table-row and have the data-target attribute point to the ID of the row that you'd like to expand (the next row). Also, please make sure to set the appropriate aria attributes aria-expanded and aria-controls.

To have a certain element within the clickable row not trigger the expand, add the data-no-expand attribute.

<Note>
__Note:__ Since the collapse button does not have the `.btn-class`, make sure you add the `role="button"`-property to the element (and of course, as usual, the relevant aria-attributes!).
</Note>

<Canvas of={TableStories.PresentExpandableRows} />

##### Clickable rows
Tables with linked table rows can be marked up with the table-clickable modifier. You'll still have to consider accessibility, marking up links and whatnot properly, the clickable modifier simply handles styling.

To disable the styles for a row, simply add the class table-ignore-clickable.

<Canvas of={TableStories.PresentClickableRows} />

##### Sorting
<Canvas of={TableStories.PresentSorting} />

### Comparative tables
Comparative table may look at a table but it's built with div's instead of table markup. It was not possible to get the desire layout work with table markup. It's responsive out of the box but you might need to tweak the behaviour to match your needs (read below how to adjust table's to work on smaller screens).

<Canvas of={TableStories.Comparative} />

## Responsive
As in at the top of the page when it comes to handle table's on smaller screens we hide columns to make the table fit. We use helper classes from Bootstrap to make it work. In the examples at the top we hide cells with `d-none` and display them on wider screens with `d-md-table-cell`.

## Good to know
- You can add a caption to your table which will have the same design as the panel header.
- If you have numbers in the last cell on each row add `.table-cell-number`} to right align the text and give it the right styling.
- Text in table cell's can be tricky to style. If you want to keep the text from breaking into two rows consider adding .text-nowrap to each cell to keep the text on the one row.
